<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="416px" preserveAspectRatio="none" style="width:507px;height:416px;" version="1.1" viewBox="0 0 507 416" width="507px" zoomAndPan="magnify"><defs><filter height="300%" id="fbtd7qtz42dgb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#DDDDDD" height="394.125" style="stroke: #A80036; stroke-width: 1.0;" width="296" x="200" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="97" x="299.5" y="17.4951">IPF Application</text><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="118.3125"/><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="174.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="211.0156"/><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="70.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="414" y="284.7188"/><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="79.0547" style="stroke: #000000; stroke-width: 2.0;" width="309" x="13" y="77.9609"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="50" x2="50" y1="60.9609" y2="404.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="258" x2="258" y1="60.9609" y2="404.125"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="419" x2="419" y1="60.9609" y2="404.125"/><rect fill="#FEFECE" filter="url(#fbtd7qtz42dgb)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="50" x="23" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="36" x="30" y="45.8848">Client</text><rect fill="#FEFECE" filter="url(#fbtd7qtz42dgb)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="104" x="204" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="90" x="211" y="45.8848">IPF Consumer</text><rect fill="#FEFECE" filter="url(#fbtd7qtz42dgb)" height="31.6094" style="stroke: #A80036; stroke-width: 1.5;" width="142" x="346" y="24.3516"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="128" x="353" y="45.8848">Server Camel Route</text><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="30.3516" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="118.3125"/><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="174.7578" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="253" y="211.0156"/><rect fill="#FFFFFF" filter="url(#fbtd7qtz42dgb)" height="70.7031" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="414" y="284.7188"/><path d="M13,77.9609 L86,77.9609 L86,85.9609 L76,95.9609 L13,95.9609 L13,77.9609 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="79.0547" style="stroke: #000000; stroke-width: 2.0;" width="309" x="13" y="77.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="28" x="28" y="92.4561">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="60" x="101" y="91.3799">[n-1 times]</text><polygon fill="#A80036" points="241,114.3125,251,118.3125,241,122.3125,245,118.3125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="50" x2="247" y1="118.3125" y2="118.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="121" x="57" y="113.8076">Fragment of Request</text><polygon fill="#A80036" points="61,144.6641,51,148.6641,61,152.6641,57,148.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="55" x2="257" y1="148.6641" y2="148.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="179" x="67" y="144.1592">Fragment of Acknowledgement</text><polygon fill="#A80036" points="241,207.0156,251,211.0156,241,215.0156,245,211.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="50" x2="247" y1="211.0156" y2="211.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="150" x="57" y="206.5107">Last Fragment of Request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="305" y1="241.7188" y2="241.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="305" x2="305" y1="241.7188" y2="254.7188"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="264" x2="305" y1="254.7188" y2="254.7188"/><polygon fill="#A80036" points="274,250.7188,264,254.7188,274,258.7188,270,254.7188" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="84" x="270" y="236.8623">Join fragments</text><polygon fill="#A80036" points="402,280.7188,412,284.7188,402,288.7188,406,284.7188" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="263" x2="408" y1="284.7188" y2="284.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="270" y="280.2139">Unfragmented Request</text><path d="M429,298.0703 L429,324.0703 L487,324.0703 L487,308.0703 L477,298.0703 L429,298.0703 " fill="#FBFB77" filter="url(#fbtd7qtz42dgb)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M477,298.0703 L477,308.0703 L487,308.0703 L477,298.0703 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="37" x="435" y="316.5654">.from()</text><polygon fill="#A80036" points="274,351.4219,264,355.4219,274,359.4219,270,355.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="268" x2="418" y1="355.4219" y2="355.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="58" x="280" y="350.917">Response</text><polygon fill="#A80036" points="61,381.7734,51,385.7734,61,389.7734,57,385.7734" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="55" x2="257" y1="385.7734" y2="385.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="132" x="67" y="381.2686">Unfragmented Request</text><!--
@startuml
hide footbox

participant "Client"
box "IPF Application"
participant "IPF Consumer" as CON
participant "Server Camel Route" as SCR
end box

loop n-1 times
    Client -> CON : Fragment of Request
    activate CON
    CON - -> Client : Fragment of Acknowledgement
    deactivate CON
end
|||

Client -> CON : Last Fragment of Request
activate CON
CON -> CON: Join fragments
CON -> SCR: Unfragmented Request
activate SCR
note right of SCR: .from()
SCR - -> CON: Response
deactivate SCR
CON -> Client: Unfragmented Request
deactivate CON

@enduml

PlantUML version 1.2018.01(Sun Jan 28 19:08:22 CET 2018)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 1.8.0_152-release-1248-b8
Operating System: Windows 10
OS Version: 10.0
Default Encoding: Cp1252
Language: en
Country: US
--></g></svg>